<script>
  window.addEventListener("message", (event) => {
    if (event.data?.type === "google-login-complete") {
      const uid = event.data.uid;
      const code = event.data.code;

      console.log("✅ Google login complete");
      console.log("UID:", uid);
      console.log("Code:", code);

      // Send to Unity
      if (typeof unityInstance !== "undefined") {
        unityInstance.SendMessage("LoginManager", "OnGoogleLoginComplete", uid);
        unityInstance.SendMessage("LoginManager", "OnGoogleCodeReceived", code);
      } else {
        console.warn("⚠️ Unity instance not ready");
      }
    }
  });
</script>
